(library
 (name scrutiny_infrastructure_resources_internal)
 (public_name scrutiny.infrastructure.resources_internal)
 (libraries
  ; Core
  containers
  fmt
  fpath
  logs
  lwt
  lwt.unix
  result
  scrutiny.diff
  scrutiny.infrastructure
  yojson
  digestif
  scrutiny.systemd)
 (modules directory_resource file_mod file_resource service_resource user)
 (preprocess
  (pps lwt_ppx ppx_yojson_conv)))

(library
 (name scrutiny_infrastructure_resources)
 (public_name scrutiny.infrastructure.resources)
 (libraries
  fmt
  lwt
  scrutiny.diff
  result
  scrutiny.infrastructure
  scrutiny.infrastructure.resources_internal
  yojson
  fpath
  jingoo
  scrutiny.dns)
 (modules dns_resource scrutiny_infrastructure_resources)
 (preprocess
  (pps lwt_ppx)))
